<div class="container">
  <h1><%= t('trip_suggestions.index.title') %></h1>
  <h2><%= t('trip_suggestions.index.summary') %></h2>
  <table>
    <tr>
      <td><b><%= t('activerecord.attributes.trip_request.airport') %>:</b></td>
      <td><%= "#{@trip_request.airport.name} (#{@trip_request.airport.icao})" %></td>
    </tr>
    <tr>
      <td><b><%= t('activerecord.attributes.trip_request.start_date') %>:</b></td>
      <td><%= format_offset_date_human(@trip_request.start_date.to_date - Date.current) %></td>
    </tr>
    <tr>
      <td><b><%= t('activerecord.attributes.trip_request.end_date') %>:</b></td>
      <td><%= format_offset_date_human(@trip_request.end_date.to_date - Date.current) %></td>
    </tr>
  </table>

  <h2><%= t('trip_suggestions.index.flyzone_map') %></h2>
  <% if @fake_weather %>
    <p class="tag-danger">fake weather</p>
  <% else %>
    <p class="tag-success">real weather</p>
  <% end %>
  <p><%= @airports_flyzone_map.count %> Airports found</p>
  <div class="map-container" \
        data-controller="osm" \
        data-osm-target="map" \
        data-osm-airports-matching-criterias-map-value="<%= @airports_matching_criterias_map.to_json %>" \
        data-osm-airports-flyzone-map-value="<%= @airports_flyzone_map.to_json %>" \
        data-osm-departure-airport-value="<%= @departure_airport.first.to_json %>" \
        data-osm-flyzone-common-polygon-value="<%= @flyzone_common_polygons %>" \
        data-osm-flyzone-outbound-value="<%= @flyzone_outbound %>" \
        data-osm-flyzone-inbound-value="<%= @flyzone_inbound %>" \>
  </div>
  <div class="my-20">
    <%= link_to "New Trip Request", new_trip_request_path, class: "btn btn-secondary" %>
  </div>
</div>
